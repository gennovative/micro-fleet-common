{"version":3,"sources":["app/models/settings/SettingItem.ts"],"names":[],"mappings":";;AAAA,2BAA2B;AAE3B,uEAAoE;AACpE,0EAAuE;AAGvE,IAAY,mBA0BX;AA1BD,WAAY,mBAAmB;IAC9B;;OAEG;IACH,wCAAiB,CAAA;IAEjB;;OAEG;IACH,+CAAwB,CAAA;IAExB;;;OAGG;IACH,wCAAiB,CAAA;IAEjB;;OAEG;IACH,+CAAwB,CAAA;IAExB;;OAEG;IACH,0CAAmB,CAAA;AACpB,CAAC,EA1BW,mBAAmB,GAAnB,2BAAmB,KAAnB,2BAAmB,QA0B9B;AAED;;GAEG;AACH;IAAA;QAKC;;;WAGG;QACa,SAAI,GAAW,SAAS,CAAC;QAEzC;;;WAGG;QACa,aAAQ,GAAwB,SAAS,CAAC;QAE1D;;;WAGG;QACa,UAAK,GAAW,SAAS,CAAC;IAC3C,CAAC;CAAA;AAtBD,kCAsBC;AAED,WAAW,CAAC,SAAS,GAAG,qCAAiB,CAAC,MAAM,CAAC;IAChD,IAAI,EAAE,GAAG,CAAC,MAAM,EAAE,CAAC,KAAK,EAAE,CAAC,QAAQ,EAAE;IACrC,QAAQ,EAAE,GAAG,CAAC,MAAM,EAAE,CAAC,QAAQ,EAAE,CAAC,IAAI,CAAC,mBAAmB,CAAC,MAAM,EAAE,mBAAmB,CAAC,WAAW,EAAE,mBAAmB,CAAC,MAAM,EAAE,mBAAmB,CAAC,WAAW,EAAE,mBAAmB,CAAC,OAAO,CAAC;IAC7L,KAAK,EAAE,GAAG,CAAC,MAAM,EAAE,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,QAAQ,EAAE;CACxC,CAAC,CAAC;AAEH,WAAW,CAAC,UAAU,GAAG,IAAI,iCAAe,CAAC,WAAW,EAAE,WAAW,CAAC,SAAS,CAAC,CAAC","file":"SettingItem.js","sourcesContent":["import * as joi from 'joi';\r\n\r\nimport { ModelAutoMapper } from '../../translators/ModelAutoMapper';\r\nimport { JoiModelValidator } from '../../validators/JoiModelValidator';\r\n\r\n\r\nexport enum SettingItemDataType { \r\n\t/**\r\n\t * Text data type, that is rendered as a text box on UI.\r\n\t */\r\n\tString = 'string',\r\n\r\n\t/**\r\n\t * Array of strings.\r\n\t */\r\n\tStringArray = 'string[]',\r\n\r\n\t/**\r\n\t * Numeric data type including integer and float, that is rendered as\r\n\t * a numeric box on UI.\r\n\t */\r\n\tNumber = 'number',\r\n\r\n\t/**\r\n\t * Array of numbers.\r\n\t */\r\n\tNumberArray = 'number[]',\r\n\r\n\t/**\r\n\t * Logical data type (true/false), that is rendered as a checkbox on UI.\r\n\t */\r\n\tBoolean = 'boolean'\r\n}\r\n\r\n/**\r\n * Represents a setting record.\r\n */\r\nexport class SettingItem {\r\n\r\n\tpublic static validator: JoiModelValidator<SettingItem>;\r\n\tpublic static translator: ModelAutoMapper<SettingItem>;\r\n\r\n\t/**\r\n\t * Gets or sets setting name (aka setting key).\r\n\t * This is also the key in `appconfig.json` and the name of environment variable.\r\n\t */\r\n\tpublic readonly name: string = undefined;\r\n\r\n\t/**\r\n\t * Gets or sets data type of setting value.\r\n\t * Must be one of: 'string', 'string[]', 'number', 'number[]', 'boolean'.\r\n\t */\r\n\tpublic readonly dataType: SettingItemDataType = undefined;\r\n\r\n\t/**\r\n\t * Gets or set value.\r\n\t * Whatever `dataType` is, value must always be string.\r\n\t */\r\n\tpublic readonly value: string = undefined;\r\n}\r\n\r\nSettingItem.validator = JoiModelValidator.create({\r\n\tname: joi.string().token().required(),\r\n\tdataType: joi.string().required().only(SettingItemDataType.String, SettingItemDataType.StringArray, SettingItemDataType.Number, SettingItemDataType.NumberArray, SettingItemDataType.Boolean),\r\n\tvalue: joi.string().allow('').required()\r\n});\r\n\r\nSettingItem.translator = new ModelAutoMapper(SettingItem, SettingItem.validator);"]}