{"version":3,"sources":["app/models/settings/DbConnectionSetting.ts"],"names":[],"mappings":";;AAAA,yEAAyE;AAGzE,+CAAiE;AAajE;;GAEG;AACH,yBAAiC,SAAQ,KAAkB;IAE1D,YAAY,IAAoC;QAC/C,KAAK,EAAE,CAAC;QACR,IAAI,CAAC,IAAI,CAAC,yBAAW,CAAC,UAAU,CAAC,KAAK,CAAC;YACrC,IAAI,EAAE,yCAAC,CAAC,SAAS;YACjB,QAAQ,EAAE,iCAAmB,CAAC,MAAM;YACpC,KAAK,EAAE,IAAI,CAAC,MAAM;SAClB,CAAC,CAAC,CAAC;QAEL,EAAE,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;YACf,IAAI,CAAC,IAAI,CAAC,yBAAW,CAAC,UAAU,CAAC,KAAK,CAAC;gBACrC,IAAI,EAAE,yCAAC,CAAC,OAAO;gBACf,QAAQ,EAAE,iCAAmB,CAAC,MAAM;gBACpC,KAAK,EAAE,IAAI,CAAC,IAAI;aAChB,CAAC,CAAC,CAAC;YACL,IAAI,CAAC,IAAI,CAAC,yBAAW,CAAC,UAAU,CAAC,KAAK,CAAC;gBACrC,IAAI,EAAE,yCAAC,CAAC,OAAO;gBACf,QAAQ,EAAE,iCAAmB,CAAC,MAAM;gBACpC,KAAK,EAAE,IAAI,CAAC,QAAQ;aACpB,CAAC,CAAC,CAAC;YACL,IAAI,CAAC,IAAI,CAAC,yBAAW,CAAC,UAAU,CAAC,KAAK,CAAC;gBACrC,IAAI,EAAE,yCAAC,CAAC,WAAW;gBACnB,QAAQ,EAAE,iCAAmB,CAAC,MAAM;gBACpC,KAAK,EAAE,IAAI,CAAC,QAAQ;aACrB,CAAC,CAAC,CAAC;YACJ,IAAI,CAAC,IAAI,CAAC,yBAAW,CAAC,UAAU,CAAC,KAAK,CAAC;gBACrC,IAAI,EAAE,yCAAC,CAAC,OAAO;gBACf,QAAQ,EAAE,iCAAmB,CAAC,MAAM;gBACpC,KAAK,EAAE,IAAI,CAAC,QAAQ;aACrB,CAAC,CAAC,CAAC;QACL,CAAC;QAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;YAC1B,IAAI,CAAC,IAAI,CAAC,yBAAW,CAAC,UAAU,CAAC,KAAK,CAAC;gBACrC,IAAI,EAAE,yCAAC,CAAC,OAAO;gBACf,QAAQ,EAAE,iCAAmB,CAAC,MAAM;gBACpC,KAAK,EAAE,IAAI,CAAC,QAAQ;aACpB,CAAC,CAAC,CAAC;QACN,CAAC;QAAC,IAAI,CAAC,CAAC;YACP,IAAI,CAAC,IAAI,CAAC,yBAAW,CAAC,UAAU,CAAC,KAAK,CACrC;gBACC,IAAI,EAAE,yCAAC,CAAC,cAAc;gBACtB,QAAQ,EAAE,iCAAmB,CAAC,MAAM;gBACpC,KAAK,EAAE,IAAI,CAAC,gBAAgB;aAC5B,CAAC,CAAC,CAAC;QACN,CAAC;IACF,CAAC;CACD;AA9CD,kDA8CC","file":"DbConnectionSetting.js","sourcesContent":["import { DbSettingKeys as S, DbClient } from 'back-lib-common-constants';\r\nimport { Guard } from 'back-lib-common-util';\r\n\r\nimport { SettingItem, SettingItemDataType } from './SettingItem';\r\n\r\n\r\nexport type DbConnectionSettingConstructor = {\r\n\tengine: DbClient,\r\n\thost?: string,\r\n\tusername?: string,\r\n\tpassword?: string,\r\n\tdatabase?: string,\r\n\tfilePath?: string,\r\n\tconnectionString?: string\r\n};\r\n\r\n/**\r\n * Wraps an array of database connection settings.\r\n */\r\nexport class DbConnectionSetting extends Array<SettingItem> {\r\n\r\n\tconstructor(opts: DbConnectionSettingConstructor) {\r\n\t\tsuper();\r\n\t\tthis.push(SettingItem.translator.whole({\r\n\t\t\t\tname: S.DB_ENGINE,\r\n\t\t\t\tdataType: SettingItemDataType.String,\r\n\t\t\t\tvalue: opts.engine\r\n\t\t\t}));\r\n\r\n\t\tif (opts.host) {\r\n\t\t\tthis.push(SettingItem.translator.whole({\r\n\t\t\t\t\tname: S.DB_HOST,\r\n\t\t\t\t\tdataType: SettingItemDataType.String,\r\n\t\t\t\t\tvalue: opts.host\r\n\t\t\t\t}));\r\n\t\t\tthis.push(SettingItem.translator.whole({\r\n\t\t\t\t\tname: S.DB_USER,\r\n\t\t\t\t\tdataType: SettingItemDataType.String,\r\n\t\t\t\t\tvalue: opts.username\r\n\t\t\t\t}));\r\n\t\t\tthis.push(SettingItem.translator.whole({\r\n\t\t\t\t\tname: S.DB_PASSWORD,\r\n\t\t\t\t\tdataType: SettingItemDataType.String,\r\n\t\t\t\t\tvalue: opts.password\r\n\t\t\t}));\r\n\t\t\tthis.push(SettingItem.translator.whole({\r\n\t\t\t\t\tname: S.DB_NAME,\r\n\t\t\t\t\tdataType: SettingItemDataType.String,\r\n\t\t\t\t\tvalue: opts.database\r\n\t\t\t}));\r\n\t\t} else if (opts.filePath) {\r\n\t\t\tthis.push(SettingItem.translator.whole({\r\n\t\t\t\t\tname: S.DB_FILE,\r\n\t\t\t\t\tdataType: SettingItemDataType.String,\r\n\t\t\t\t\tvalue: opts.filePath\r\n\t\t\t\t}));\r\n\t\t} else {\r\n\t\t\tthis.push(SettingItem.translator.whole(\r\n\t\t\t\t{\r\n\t\t\t\t\tname: S.DB_CONN_STRING,\r\n\t\t\t\t\tdataType: SettingItemDataType.String,\r\n\t\t\t\t\tvalue: opts.connectionString\r\n\t\t\t\t}));\r\n\t\t}\r\n\t}\r\n}"]}